"use strict";(globalThis["webpackChunkcashu_auditor_frontend"]=globalThis["webpackChunkcashu_auditor_frontend"]||[]).push([[557],{6557:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Ft});var n=a(1758);function o(t,e,a,o,l,r){const s=(0,n.g2)("StatsCard"),i=(0,n.g2)("MintList"),c=(0,n.g2)("MintGraph"),d=(0,n.g2)("SwapList");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e[0]||(e[0]=(0,n.Lk)("div",{class:"q-pa-md"},[(0,n.Lk)("h1",{class:"text-h6"},"Lightning Auditor"),(0,n.Lk)("p",null," Donate ecash from any Cashu mint so it can be audited perpetually. This app sends random Lightning payments between mints. Forever. The sats go in a circle until all is lost to fees or rugs. If a mint fails to pay an invoice, it is marked with a scary red label. ")],-1)),(0,n.bF)(s),(0,n.bF)(i),(0,n.bF)(c),(0,n.bF)(d)],64)}var l=a(9104),r=a(8790);const s={class:"q-pa-md"},i={key:0,class:"text-negative q-pa-md"},c={class:"text-left"},d={class:"text-left"},u={class:"text-left"},v={class:"text-left"},p={class:"text-left"};function m(t,e,a,o,m,f){const g=(0,n.g2)("q-item-label"),h=(0,n.g2)("q-spinner"),b=(0,n.g2)("q-btn"),_=(0,n.g2)("q-input"),y=(0,n.g2)("q-icon"),k=(0,n.g2)("q-badge"),w=(0,n.g2)("q-table");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",s,[(0,n.bF)(g,{class:"text-h6 q-mb-md",color:"white"},{default:(0,n.k6)((()=>e[1]||(e[1]=[(0,n.eW)("Donate ecash")]))),_:1}),(0,n.bF)(_,{filled:"",modelValue:t.token,"onUpdate:modelValue":e[0]||(e[0]=e=>t.token=e),label:"Enter Token",onKeyup:(0,l.jR)(t.submitToken,["enter"])},{append:(0,n.k6)((()=>[(0,n.bF)(b,{color:"primary",onClick:t.submitToken},{default:(0,n.k6)((()=>[t.submittingToken?((0,n.uX)(),(0,n.Wv)(h,{key:0,size:"15px",class:"q-mr-sm",color:"white"})):(0,n.Q3)("",!0),e[2]||(e[2]=(0,n.eW)("Submit"))])),_:1},8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),t.error?((0,n.uX)(),(0,n.CE)("div",i,(0,r.v_)(t.error),1)):(0,n.Q3)("",!0),(0,n.bF)(w,{title:"Mints",rows:t.mints,columns:t.columns,"row-key":"id",loading:t.loading,"hide-bottom":t.mints.length>0,"rows-per-page-options":[0]},{"body-cell-updated_at":(0,n.k6)((e=>[(0,n.Lk)("td",c,(0,r.v_)(t.formatDate(e.row.updated_at)),1)])),"body-cell-next_update":(0,n.k6)((e=>[(0,n.Lk)("td",d,(0,r.v_)(t.formatDate(e.row.next_update)),1)])),"body-cell-state":(0,n.k6)((e=>[(0,n.Lk)("td",u,[(0,n.bF)(y,{name:t.getStateIcon(e.row.state).name,color:t.getStateIcon(e.row.state).color},null,8,["name","color"])])])),"body-cell-n_errors":(0,n.k6)((t=>[(0,n.Lk)("td",v,[(0,n.bF)(k,{color:t.row.n_errors>0&&"ERROR"==t.row.state?"negative":"grey-7"},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(t.row.n_errors),1)])),_:2},1032,["color"])])])),"body-cell-n_melts":(0,n.k6)((t=>[(0,n.Lk)("td",p,[(0,n.bF)(k,{color:t.row.n_melts>0&&"OK"==t.row.state?"positive":"grey-7","text-color":"dark"},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(t.row.n_melts),1)])),_:2},1032,["color"])])])),_:1},8,["rows","columns","loading","hide-bottom"])])}var f=a(8734),g=a(2303);const h=g.A.create({baseURL:"https://api.audit.8333.space",headers:{"Content-Type":"application/json"}}),b=h;var _=function(t,e,a,n){function o(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,l){function r(t){try{i(n.next(t))}catch(e){l(e)}}function s(t){try{i(n["throw"](t))}catch(e){l(e)}}function i(t){t.done?a(t.value):o(t.value).then(r,s)}i((n=n.apply(t,e||[])).next())}))};const y=(t=0,e=0)=>_(void 0,void 0,void 0,(function*(){const a=yield b.get("/mints/",{params:{skip:t,limit:e}});return console.log("API Response:",a.data),a.data})),k=t=>_(void 0,void 0,void 0,(function*(){const e=yield b.post("/mints/",t);return console.log("API Response:",e.data),e.data})),w=(t=0,e=10)=>_(void 0,void 0,void 0,(function*(){const a=yield b.get("/swaps/",{params:{skip:t,limit:e}});return console.log("API Response:",a.data),a.data})),x=()=>_(void 0,void 0,void 0,(function*(){const t=yield b.get("/graph/");return console.log("API Response:",t.data),t.data})),L=()=>_(void 0,void 0,void 0,(function*(){const t=yield b.get("/stats/");return console.log("API Response:",t.data),t.data}));var A=function(t,e,a,n){function o(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,l){function r(t){try{i(n.next(t))}catch(e){l(e)}}function s(t){try{i(n["throw"](t))}catch(e){l(e)}}function i(t){t.done?a(t.value):o(t.value).then(r,s)}i((n=n.apply(t,e||[])).next())}))};const R=(0,n.pM)({name:"MintList",setup(){const t=(0,f.KR)(""),e=(0,f.KR)([]),a=(0,f.KR)(!1),o=(0,f.KR)(!1),l=(0,f.KR)(""),r=[{name:"url",label:"URL",field:"url",sortable:!0,align:"left"},{name:"name",label:"Name",field:"name",sortable:!0,align:"left"},{name:"version",label:"Version",field:"info",sortable:!0,align:"left"},{name:"balance",label:"Balance (sat)",field:"balance",sortable:!0,align:"left"},{name:"sum_donations",label:"Total donated (sat)",field:"sum_donations",sortable:!0,align:"left"},{name:"updated_at",label:"Updated At",field:"updated_at",sortable:!0,align:"left"},{name:"state",label:"State",field:"state",sortable:!0,align:"left"},{name:"n_errors",label:"Errors",field:"n_errors",sortable:!0,align:"left"},{name:"n_mints",label:"Mints",field:"n_mints",sortable:!0,align:"left"},{name:"n_melts",label:"Melts",field:"n_melts",sortable:!0,align:"left"}];let s;const i=()=>A(this,void 0,void 0,(function*(){a.value=!0,l.value="";try{e.value=yield y(0,0),e.value.forEach((t=>{t.info&&(t.info=v(t.info))}))}catch(t){l.value="Error fetching mints.",console.error(t)}finally{a.value=!1}})),c=()=>A(this,void 0,void 0,(function*(){if(t.value){o.value=!0,l.value="";try{yield k({token:t.value}),t.value="",yield i()}catch(e){l.value="Error submitting token.",console.error(e)}finally{o.value=!1}}})),d=t=>{const e=/([Zz]|[+\-]\d{2}:\d{2})$/.test(t);let a=t;e||(a+="Z");const n=new Date(a);if(isNaN(n.getTime()))return console.error(`Invalid date string: ${t}`),"Invalid Date";const o={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},l={year:"numeric",month:"short",day:"numeric"},r=n.toLocaleTimeString(void 0,o),s=n.toLocaleDateString(void 0,l);return`${r}, ${s}`},u=t=>{switch(t){case"OK":return{name:"check_circle",color:"positive"};case"WARN":return{name:"warning",color:"warning"};case"ERROR":return{name:"cancel",color:"negative"};case"UNKNOWN":default:return{name:"help",color:"grey-7"}}},v=t=>{try{const e=JSON.parse(t);return e.version}catch(e){return""}};return(0,n.sV)((()=>{i(),s=window.setInterval(i,6e4)})),(0,n.xo)((()=>{void 0!==s&&clearInterval(s)})),{token:t,mints:e,columns:r,loading:a,submittingToken:o,error:l,submitToken:c,formatDate:d,getStateIcon:u,getVersion:v}}});var q=a(2807),F=a(3796),S=a(9270),Q=a(2374),I=a(564),K=a(1759),C=a(492),E=a(3954),M=a(8582),T=a.n(M);const N=(0,q.A)(R,[["render",m],["__scopeId","data-v-cfa93bec"]]),W=N;T()(R,"components",{QItemLabel:F.A,QInput:S.A,QBtn:Q.A,QSpinner:I.A,QTable:K.A,QIcon:C.A,QBadge:E.A});const X={key:0,class:"q-pa-md flex justify-center"},$={key:2,class:"q-pa-md"},D={key:3,class:"text-negative q-pa-md"},O={key:4,class:"text-secondary q-pa-md"},P={key:5,class:"text-secondary q-pa-md"};function B(t,e,a,o,l,s){const i=(0,n.g2)("q-item-label"),c=(0,n.g2)("q-icon"),d=(0,n.g2)("q-item-section"),u=(0,n.g2)("q-item"),v=(0,n.g2)("q-separator"),p=(0,n.g2)("q-btn"),m=(0,n.g2)("q-spinner"),f=(0,n.g2)("q-list");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(f,{bordered:"",padding:"",class:"q-pa-md"},{default:(0,n.k6)((()=>[(0,n.bF)(i,{header:"",class:"text-h6 q-mb-md"},{default:(0,n.k6)((()=>e[0]||(e[0]=[(0,n.eW)("Recent Swaps")]))),_:1}),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.swaps,(a=>((0,n.uX)(),(0,n.CE)("div",{key:a.id},[(0,n.bF)(u,{clickable:"",class:"q-my-md"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{avatar:""},{default:(0,n.k6)((()=>[(0,n.bF)(c,{name:"OK"===a.state?"check_circle":"cancel",color:"OK"===a.state?"positive":"negative"},null,8,["name","color"])])),_:2},1024),(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[e[1]||(e[1]=(0,n.Lk)("span",{class:"text-bold"},"From:",-1)),(0,n.eW)(" "+(0,r.v_)(a.from_url),1)])),_:2},1024),(0,n.bF)(i,null,{default:(0,n.k6)((()=>[e[2]||(e[2]=(0,n.Lk)("span",{class:"text-bold"},"To:",-1)),(0,n.eW)(" "+(0,r.v_)(a.to_url),1)])),_:2},1024),(0,n.bF)(i,null,{default:(0,n.k6)((()=>[e[3]||(e[3]=(0,n.Lk)("span",{class:"text-bold"},"Amount:",-1)),(0,n.eW)(" "+(0,r.v_)(a.amount)+" sat ",1)])),_:2},1024),"OK"===a.state?((0,n.uX)(),(0,n.Wv)(i,{key:0,caption:""},{default:(0,n.k6)((()=>[e[4]||(e[4]=(0,n.Lk)("span",{class:"text-bold"},"Fee:",-1)),(0,n.eW)(" "+(0,r.v_)(a.fee)+" sat ",1),a.time_taken?((0,n.uX)(),(0,n.Wv)(i,{key:0,caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" Payment took "+(0,r.v_)(a.time_taken)+" ms ",1)])),_:2},1024)):(0,n.Q3)("",!0)])),_:2},1024)):(0,n.Q3)("",!0),"ERROR"===a.state&&a.error?((0,n.uX)(),(0,n.Wv)(i,{key:1,caption:""},{default:(0,n.k6)((()=>[e[5]||(e[5]=(0,n.Lk)("span",{class:"text-bold"},"Error:",-1)),(0,n.eW)(" "+(0,r.v_)(a.error),1)])),_:2},1024)):(0,n.Q3)("",!0)])),_:2},1024),(0,n.bF)(d,{side:"",top:""},{default:(0,n.k6)((()=>[(0,n.bF)(i,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(t.formatDate(a.created_at)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,n.bF)(v)])))),128)),t.allLoaded||t.loadingMore||t.loadingNewSwaps?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",X,[(0,n.bF)(p,{label:"Load More Swaps",outline:"",color:"primary",onClick:t.loadMoreSwaps,disabled:t.loadingMore},null,8,["onClick","disabled"])])),t.loadingMore?((0,n.uX)(),(0,n.Wv)(m,{key:1,color:"primary",size:"50px",class:"q-my-md"})):(0,n.Q3)("",!0),t.loadingNewSwaps?((0,n.uX)(),(0,n.CE)("div",$,[(0,n.bF)(m,{color:"primary",size:"30px"}),e[6]||(e[6]=(0,n.eW)(" Loading new swaps... "))])):(0,n.Q3)("",!0),t.error?((0,n.uX)(),(0,n.CE)("div",D,(0,r.v_)(t.error),1)):(0,n.Q3)("",!0),t.allLoaded&&t.swaps.length>0?((0,n.uX)(),(0,n.CE)("div",O," All swaps loaded. ")):(0,n.Q3)("",!0),t.loadingInitial||0!==t.swaps.length||t.error?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",P," No swaps found. "))])),_:1})])}var V=function(t,e,a,n){function o(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,l){function r(t){try{i(n.next(t))}catch(e){l(e)}}function s(t){try{i(n["throw"](t))}catch(e){l(e)}}function i(t){t.done?a(t.value):o(t.value).then(r,s)}i((n=n.apply(t,e||[])).next())}))};const z=(0,n.pM)({name:"SwapList",setup(){const t=(0,f.KR)([]),e=(0,f.KR)(!1),a=(0,f.KR)(!1),o=(0,f.KR)(!1),l=(0,f.KR)(""),r=(0,f.KR)(0),s=10,i=(0,f.KR)(!1),c=(0,f.KR)(new Set);let d;const u=t=>{const e=/([Zz]|[+\-]\d{2}:\d{2})$/.test(t);let a=t;e||(a+="Z");const n=new Date(a);if(isNaN(n.getTime()))return console.error(`Invalid date string: ${t}`),"Invalid Date";const o={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},l={year:"numeric",month:"short",day:"numeric"},r=n.toLocaleTimeString(void 0,o),s=n.toLocaleDateString(void 0,l);return`${r}, ${s}`},v=n=>V(this,void 0,void 0,(function*(){"initial"===n?e.value=!0:"more"===n?a.value=!0:"new"===n&&(o.value=!0),l.value="";try{if("initial"===n){const e=yield w(0,s);t.value=e,c.value=new Set(e.map((t=>t.id))),r.value=s,i.value=e.length<s}else if("more"===n){const e=yield w(r.value,s),a=e.filter((t=>!c.value.has(t.id)));a.forEach((t=>c.value.add(t.id))),t.value=[...t.value,...a],r.value+=s,e.length<s&&(i.value=!0)}else if("new"===n){const e=yield w(0,s),a=e.filter((t=>!c.value.has(t.id)));a.length>0&&(a.forEach((t=>c.value.add(t.id))),t.value=[...a,...t.value])}t.value.sort(((t,e)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()))}catch(d){l.value="Error fetching swaps.",console.error(d)}finally{"initial"===n?e.value=!1:"more"===n?a.value=!1:"new"===n&&(o.value=!1)}})),p=()=>V(this,void 0,void 0,(function*(){i.value||a.value||(yield v("more"))})),m=()=>V(this,void 0,void 0,(function*(){yield v("new")})),g=()=>V(this,void 0,void 0,(function*(){yield v("initial"),d=window.setInterval(m,6e4)}));return(0,n.xo)((()=>{void 0!==d&&clearInterval(d)})),(0,n.sV)((()=>{g()})),{swaps:t,loadingInitial:e,loadingMore:a,loadingNewSwaps:o,error:l,allLoaded:i,formatDate:u,loadMoreSwaps:p}}});var U=a(3999),j=a(124),G=a(5173),Y=a(386);const Z=(0,q.A)(z,[["render",B],["__scopeId","data-v-283a2352"]]),J=Z;T()(z,"components",{QList:U.A,QItemLabel:F.A,QItem:j.A,QItemSection:G.A,QIcon:C.A,QSeparator:Y.A,QBtn:Q.A,QSpinner:I.A});const H={class:"mint-graph-container"},tt={ref:"svgRef"},et={key:1,class:"text-negative q-pa-md"},at={ref:"tooltip",class:"tooltip",style:{opacity:"0"}};function nt(t,e,a,o,l,s){const i=(0,n.g2)("q-card-section"),c=(0,n.g2)("q-spinner"),d=(0,n.g2)("q-card");return(0,n.uX)(),(0,n.Wv)(d,{class:"bg-dark"},{default:(0,n.k6)((()=>[(0,n.bF)(i,{class:"bg-dark text-light"},{default:(0,n.k6)((()=>e[0]||(e[0]=[(0,n.Lk)("h2",{class:"text-h6"},"Mint Graph",-1)]))),_:1}),(0,n.Lk)("div",H,[((0,n.uX)(),(0,n.CE)("svg",tt,null,512)),t.loading?((0,n.uX)(),(0,n.Wv)(c,{key:0,color:"primary",size:"50px",class:"q-my-md"})):(0,n.Q3)("",!0),t.error?((0,n.uX)(),(0,n.CE)("div",et,(0,r.v_)(t.error),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",at,null,512)])])),_:1})}var ot=a(5932),lt=function(t,e,a,n){function o(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,l){function r(t){try{i(n.next(t))}catch(e){l(e)}}function s(t){try{i(n["throw"](t))}catch(e){l(e)}}function i(t){t.done?a(t.value):o(t.value).then(r,s)}i((n=n.apply(t,e||[])).next())}))};const rt=(0,n.pM)({name:"MintGraph",setup(){const t=(0,f.KR)(null),e=(0,f.KR)(null),a=(0,f.KR)(null),o=(0,f.KR)(!1),l=(0,f.KR)("");let r=null;const s=()=>lt(this,void 0,void 0,(function*(){o.value=!0,l.value="";try{a.value=yield x(),i()}catch(t){l.value="Error fetching mint graph.",console.error(t)}finally{o.value=!1}})),i=()=>{if(!a.value||!t.value)return;const n=a.value.nodes.map((t=>Object.assign({},t))),o=new Map(n.map((t=>[t.id,t]))),l=a.value.edges.map((t=>{const e=o.get(t.from_id),a=o.get(t.to_id);return e&&a?{source:e,target:a,count:t.count,total_amount:t.total_amount,state:t.state}:(console.error("Invalid edge: source or target node not found"),null)})).filter((t=>null!==t));ot.Ltv(t.value).selectAll("*").remove();const s=t.value.clientWidth||800,i=t.value.clientHeight||400,u=ot.Ltv(t.value).attr("width","100%").attr("height","100%").attr("viewBox","-250 -200 800 550").attr("preserveAspectRatio","xMidYMid meet");u.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 10 10").attr("refX",25).attr("refY",0).attr("orient","auto").attr("markerWidth",6).attr("markerHeight",6).attr("xoverflow","visible").append("svg:path").attr("d","M 0,-5 L 10,0 L 0,5").attr("fill","#aaa").style("stroke","none");const v=ot.Ltv(e.value);r=ot.tXi(n).force("link",ot.kJC(l).id((t=>t.id.toString())).distance(250).strength((t=>Math.sqrt(t.count)/100))).force("charge",ot.xJS().strength(-200)).force("center",ot.jTM(s/2,i/2)).force("x",ot.KS8(s/2).strength(.01)).force("y",ot.TSS(i/2).strength(.05)).on("tick",g);const p=u.append("g").attr("class","links").selectAll("path").data(l).enter().append("path").attr("stroke-width",(t=>Math.sqrt(t.count))).attr("stroke",(t=>"OK"===t.state?"#7b7":"#a66")).attr("stroke-opacity",.5).attr("fill","none").attr("marker-end","url(#arrowhead)").on("mouseover",((t,e)=>{v.style("opacity",1).html(`<strong>Edge:</strong><br>Count: ${e.count}<br>Total Amount: ${e.total_amount}`)})).on("mousemove",(t=>{v.style("left",`${t.clientX+10}px`).style("top",t.clientY-28+"px")})).on("mouseout",(()=>{v.style("opacity",0)})),m=u.append("g").attr("class","nodes").selectAll("circle").data(n).enter().append("circle").attr("r",10).attr("fill",(t=>d(t.state))).attr("stroke","#000").call(c(r)).on("mouseover",((t,e)=>{v.style("opacity",1).html(`<strong>Mint:</strong><br>Name: ${e.name||e.url}<br>Balance: ${e.balance}`)})).on("mousemove",(t=>{v.style("left",`${t.clientX+10}px`).style("top",t.clientY-28+"px")})).on("mouseout",(()=>{v.style("opacity",0)}));m.append("title").text((t=>`Name: ${t.name||t.url}\nBalance: ${t.balance}`));const f=u.append("g").attr("class","labels").selectAll("text").data(n).enter().append("text").attr("dx",20).attr("dy",".45em").text((t=>t.name||t.url||"")).attr("fill","#fff").style("font-weight","bold");function g(){p.attr("d",(t=>{const e=t.source,a=t.target,n=a.x-e.x,o=a.y-e.y,l=Math.sqrt(n*n+o*o);return`M${e.x},${e.y} A${l},${l} 0 0,1 ${a.x},${a.y}`})),m.attr("cx",(t=>t.x)).attr("cy",(t=>t.y)),f.attr("x",(t=>t.x)).attr("y",(t=>t.y))}},c=t=>{function e(e,a){e.active||t.alphaTarget(.3).restart(),a.fx=a.x,a.fy=a.y}function a(t,e){e.fx=t.x,e.fy=t.y}function n(e,a){e.active||t.alphaTarget(0),a.fx=null,a.fy=null}return ot.$Er().on("start",e).on("drag",a).on("end",n)},d=t=>{switch(t){case"OK":return"green";case"WARN":return"yellow";case"ERROR":return"red";case"UNKNOWN":default:return"grey"}};let u;return(0,n.sV)((()=>{s()})),(0,n.xo)((()=>{r&&r.stop(),void 0!==u&&clearInterval(u)})),{svgRef:t,tooltipRef:e,loading:o,error:l,getStateColor:d}}});var st=a(3316),it=a(4189);const ct=(0,q.A)(rt,[["render",nt],["__scopeId","data-v-1153498e"]]),dt=ct;T()(rt,"components",{QCard:st.A,QCardSection:it.A,QSpinner:I.A});const ut={class:"q-pa-md"},vt={class:"text-h5"},pt={class:"text-h5"},mt={class:"text-caption"},ft={class:"text-h5"},gt={class:"text-caption"},ht={class:"text-h5"},bt={class:"text-caption"},_t={key:1,class:"text-negative q-pa-md"};function yt(t,e,a,o,l,s){const i=(0,n.g2)("q-separator"),c=(0,n.g2)("q-card-section"),d=(0,n.g2)("q-card"),u=(0,n.g2)("q-linear-progress");return(0,n.uX)(),(0,n.CE)("div",ut,[(0,n.bF)(d,{flat:"",class:"bg-dark text-white"},{default:(0,n.k6)((()=>[(0,n.bF)(i),(0,n.bF)(c,{class:"row items-start q-gutter-md"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:"stat-card"},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[e[0]||(e[0]=(0,n.Lk)("div",{class:"text-subtitle1"},"Total Balance",-1)),(0,n.Lk)("div",vt,(0,r.v_)(t.formatNumber(t.stats.total_balance))+" sat",1)])),_:1})])),_:1}),(0,n.bF)(d,{class:"stat-card"},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[e[1]||(e[1]=(0,n.Lk)("div",{class:"text-subtitle1"},"Total Swaps",-1)),(0,n.Lk)("div",pt,(0,r.v_)(t.formatNumber(t.stats.total_swaps)),1),(0,n.Lk)("div",mt," Last 24h: "+(0,r.v_)(t.formatNumber(t.stats.total_swaps_24h)),1)])),_:1})])),_:1}),(0,n.bF)(d,{class:"stat-card"},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[e[2]||(e[2]=(0,n.Lk)("div",{class:"text-subtitle1"},"Total Amount Swapped",-1)),(0,n.Lk)("div",ft,(0,r.v_)(t.formatNumber(t.stats.total_amount_swapped))+" sat",1),(0,n.Lk)("div",gt," Last 24h: "+(0,r.v_)(t.formatNumber(t.stats.total_amount_swapped_24h))+" sat ",1)])),_:1})])),_:1}),(0,n.bF)(d,{class:"stat-card"},{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[e[3]||(e[3]=(0,n.Lk)("div",{class:"text-subtitle1"},"Average Swap Time",-1)),(0,n.Lk)("div",ht,(0,r.v_)(t.formatTime(t.stats.average_swap_time)),1),(0,n.Lk)("div",bt," Last 24h: "+(0,r.v_)(t.formatTime(t.stats.average_swap_time_24h)),1)])),_:1})])),_:1})])),_:1}),t.loading?((0,n.uX)(),(0,n.Wv)(u,{key:0,indeterminate:"",color:"primary",class:"q-mt-sm"})):(0,n.Q3)("",!0),t.error?((0,n.uX)(),(0,n.CE)("div",_t,(0,r.v_)(t.error),1)):(0,n.Q3)("",!0)])),_:1})])}var kt=function(t,e,a,n){function o(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,l){function r(t){try{i(n.next(t))}catch(e){l(e)}}function s(t){try{i(n["throw"](t))}catch(e){l(e)}}function i(t){t.done?a(t.value):o(t.value).then(r,s)}i((n=n.apply(t,e||[])).next())}))};const wt=(0,n.pM)({name:"StatsCard",setup(){const t=(0,f.KR)({total_balance:0,total_swaps:0,total_swaps_24h:0,total_amount_swapped:0,total_amount_swapped_24h:0,average_swap_time:0,average_swap_time_24h:0}),e=(0,f.KR)(!1),a=(0,f.KR)("");let o;const l=()=>kt(this,void 0,void 0,(function*(){e.value=!0,a.value="";try{t.value=yield L()}catch(n){a.value="Error fetching service statistics.",console.error(n)}finally{e.value=!1}})),r=t=>t.toLocaleString(),s=t=>{if(0===t)return"N/A";const e=t/1e3;if(e<60)return`${e.toFixed(1)} s`;{const t=e/60;return`${t.toFixed(1)} min`}};return(0,n.sV)((()=>{l(),o=window.setInterval(l,3e5)})),(0,n.xo)((()=>{void 0!==o&&clearInterval(o)})),{stats:t,loading:e,error:a,formatNumber:r,formatTime:s}}});var xt=a(5859);const Lt=(0,q.A)(wt,[["render",yt],["__scopeId","data-v-337d692e"]]),At=Lt;T()(wt,"components",{QCard:st.A,QSeparator:Y.A,QCardSection:it.A,QLinearProgress:xt.A});const Rt=(0,n.pM)({name:"IndexPage",components:{MintList:W,SwapList:J,MintGraph:dt,StatsCard:At}}),qt=(0,q.A)(Rt,[["render",o]]),Ft=qt}}]);